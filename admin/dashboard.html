<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Admin Dashboard - Đăng Đại Bakery</title>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
<link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
<link rel="stylesheet" href="../css/admin_style.css">


</head>

<body>
  <!-- Sidebar -->
  <div class="sidebar">
    <div class="brand"><i class="fa-solid fa-cake-candles me-2"></i>Đăng Đại Admin</div>
    <a href="dashboard.html" class="active"><i class="fa-solid fa-chart-line me-2"></i>Dashboard</a>
    <a href="products.html"><i class="fa-solid fa-cake-candles me-2"></i>Sản phẩm</a>
    <a href="orders.html"><i class="fa-solid fa-box me-2"></i>Đơn hàng</a>
    <a href="users.html"><i class="fa-solid fa-users me-2"></i>Khách hàng</a>
    <a href="inventory.html"><i class="fa-solid fa-warehouse me-2"></i>Tồn kho</a>
    <a href="login.html" class="text-danger"><i class="fa-solid fa-right-from-bracket me-2"></i>Đăng xuất</a>
  </div>

  <!-- Main Content -->
  <div class="main-content">
    <div class="navbar mb-4">
      <h5 class="fw-bold text-danger mb-0"><i class="fa-solid fa-gauge me-2"></i>Bảng điều khiển</h5>
      <div class="d-flex align-items-center gap-3">
        <button id="themeToggle" class="theme-toggle" title="Chuyển chế độ">
          <i class="fa-solid fa-moon"></i>
        </button>
        <span class="text-muted small">Xin chào, <b>Admin</b></span>
        <img src="https://i.pravatar.cc/40?img=54" class="rounded-circle" alt="Admin">
      </div>
    </div>

    <!-- KPI Cards -->
    <div class="row g-4">
      <div class="col-md-3" data-aos="zoom-in">
        <div class="card p-3 d-flex flex-row align-items-center">
          <div class="stat-icon me-3"><i class="fa-solid fa-sack-dollar"></i></div>
          <div>
            <p class="text-muted mb-1 small">Doanh thu hôm nay</p>
            <h5 class="fw-bold mb-0 text-danger">2.450.000₫</h5>
          </div>
        </div>
      </div>
      <div class="col-md-3" data-aos="zoom-in" data-aos-delay="100">
        <div class="card p-3 d-flex flex-row align-items-center">
          <div class="stat-icon me-3"><i class="fa-solid fa-cart-shopping"></i></div>
          <div>
            <p class="text-muted mb-1 small">Đơn hàng mới</p>
            <h5 class="fw-bold mb-0 text-warning">8</h5>
          </div>
        </div>
      </div>
      <div class="col-md-3" data-aos="zoom-in" data-aos-delay="200">
        <div class="card p-3 d-flex flex-row align-items-center">
          <div class="stat-icon me-3"><i class="fa-solid fa-user-plus"></i></div>
          <div>
            <p class="text-muted mb-1 small">Khách hàng mới</p>
            <h5 class="fw-bold mb-0 text-success">5</h5>
          </div>
        </div>
      </div>
      <div class="col-md-3" data-aos="zoom-in" data-aos-delay="300">
        <div class="card p-3 d-flex flex-row align-items-center">
          <div class="stat-icon me-3"><i class="fa-solid fa-triangle-exclamation"></i></div>
          <div>
            <p class="text-muted mb-1 small">Sắp hết hàng</p>
            <h5 class="fw-bold mb-0 text-danger">3</h5>
          </div>
        </div>
      </div>
    </div>

    <!-- Charts -->
    <div class="row g-4 mt-3">
      <div class="col-lg-8" data-aos="fade-right">
        <div class="card p-3">
          <h6 class="fw-bold mb-3">📈 Doanh thu 7 ngày gần nhất</h6>
          <canvas id="revenueChart" height="130"></canvas>
        </div>
      </div>
      <div class="col-lg-4" data-aos="fade-left">
        <div class="card p-3 h-100">
          <h6 class="fw-bold mb-3">🍰 Loại bánh bán chạy</h6>
          <canvas id="productPie" height="180"></canvas>
        </div>
      </div>
    </div>

    <!-- Recent Orders -->
    <div class="card mt-4" data-aos="fade-up">
      <div class="card-header bg-white fw-bold d-flex justify-content-between align-items-center">
        <span>🧾 Đơn hàng gần đây</span>
        <a href="orders.html" class="small text-decoration-none text-danger">Xem tất cả</a>
      </div>
      <div class="table-responsive">
        <table class="table mb-0 table-hover align-middle text-center">
          <thead class="table-light">
            <tr><th>Mã</th><th>Khách</th><th>Ngày</th><th>Tổng</th><th>Trạng thái</th></tr>
          </thead>
          <tbody id="recentOrders"></tbody>
        </table>
      </div>
    </div>

    <footer class="mt-5 small">© 2025 Đăng Đại Bakery Admin Dashboard</footer>
  </div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
<script>
AOS.init();

// Theme toggle
const themeBtn = document.getElementById('themeToggle');
const savedTheme = localStorage.getItem('theme');
if (savedTheme === 'dark') {
  document.body.classList.add('dark');
  themeBtn.innerHTML = '<i class="fa-solid fa-sun"></i>';
}
themeBtn.addEventListener('click', () => {
  document.body.classList.toggle('dark');
  const isDark = document.body.classList.contains('dark');
  themeBtn.innerHTML = isDark ? '<i class="fa-solid fa-sun"></i>' : '<i class="fa-solid fa-moon"></i>';
  localStorage.setItem('theme', isDark ? 'dark' : 'light');
});

// Charts
const ctx1 = document.getElementById('revenueChart');
new Chart(ctx1, {
  type: 'line',
  data: {
    labels: ['T2','T3','T4','T5','T6','T7','CN'],
    datasets: [{
      label: 'Doanh thu (₫)',
      data: [1200000,1450000,1000000,1800000,2200000,2500000,2000000],
      borderColor: '#d62828',
      backgroundColor: 'rgba(214,40,40,0.15)',
      tension: 0.4,
      fill: true,
      pointBackgroundColor: '#d62828'
    }]
  },
  options: { plugins: { legend: { display: false } } }
});

const ctx2 = document.getElementById('productPie');
new Chart(ctx2, {
  type: 'doughnut',
  data: {
    labels: ['Bông lan', 'Cookies', 'Donut', 'Tiramisu'],
    datasets: [{
      data: [35,25,20,20],
      backgroundColor: ['#d62828','#ffb703','#8ecae6','#6a994e']
    }]
  },
  options: { plugins: { legend: { position: 'bottom' } } }
});

const orders = [
  {id:'DH001', name:'Nguyễn Văn A', date:'15/10/2025', total:'150.000₫', status:'Hoàn tất'},
  {id:'DH002', name:'Trần Thị B', date:'14/10/2025', total:'320.000₫', status:'Đang xử lý'},
  {id:'DH003', name:'Phạm Văn C', date:'14/10/2025', total:'270.000₫', status:'Đã giao'}
];
const tbody = document.getElementById('recentOrders');
orders.forEach(o=>{
  const color = o.status === 'Hoàn tất' ? 'success' : o.status === 'Đã giao' ? 'info' : 'warning text-dark';
  tbody.innerHTML += `<tr><td>${o.id}</td><td>${o.name}</td><td>${o.date}</td><td>${o.total}</td><td><span class="badge bg-${color}">${o.status}</span></td></tr>`;
});
</script>
</body>
</html>
